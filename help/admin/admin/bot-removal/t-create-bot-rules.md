---
description: 使用自定义机器人规则，您可以根据定义的条件过滤流量。
seo-description: 使用自定义机器人规则，您可以根据定义的条件过滤流量。
seo-title: 创建自定义机器人规则
solution: Analytics
subtopic: 机器人规则
title: 创建自定义机器人规则
topic: 管理工具
uuid: abbc5c7e-912f-4660-a02 b-0431a740 ec70
translation-type: tm+mt
source-git-commit: 4a627e268994d0152a19fb44e9bc06ea7ebc64c6

---


# 创建自定义机器人规则

使用自定义机器人规则，您可以根据定义的条件过滤流量。

可使用以下条件类型定义自定义机器人规则：

* 用户代理
* IP 地址
* IP 范围

单个规则可定义多个条件。多个条件可使用“OR”进行匹配。例如，如果您提供“用户代理”和“IP 地址”的值，则满足任一条件时，该流量将被视为机器人程序流量。

## 用户代理

用户代理条件会检查用户代理值以确定它是以指定的字符串&#x200B;**[!UICONTROL 开头]**&#x200B;还是&#x200B;**包含]指定的字符串。[!UICONTROL **&#x200B;如果选择&#x200B;**[!UICONTROL 包含]，则在用户代理中出现该字符串时将会匹配子字符串。**

**[!UICONTROL 不包含]列表中可包含可选值，以定义用户代理进行成功匹配不得包含的值。**&#x200B;通过在每行包含一个值，可指定多个值。如果用户代理满足在匹配字符串中指定的标准，但同时包含“不包含”列表中的字符串，则可将其视为匹配。

**[!UICONTROL 包含]字段限制为 100 个字符。**“不包含”列表限制为 255 个字符，在减去每个新行中的一个分隔符（分隔符数等于字符串的数量减 1。如果您指定 4 个&#x200B;*不包含*&#x200B;字符串，则需要 3 个分隔符）。所有字符串匹配区分大小写。

## IP 地址（包含通配符匹配）

使用通配符 (*) 在同一代码块中匹配一个或多个 IP 地址。提供您要匹配的 IP 地址的数值。使用通配符 * 替代您要匹配的任何值。下表包含 IP 地址匹配字符串的示例：

```
10.10.10.1
10.10.10.*
```

## IP 地址范围

提供 IP 地址的起始和终止范围来进行匹配。使用通配符 * 替代您要匹配的任何值。

## 定义自定义机器人规则

1. Go to **[!UICONTROL Analytics]** &gt; **[!UICONTROL Admin]**, select one or more report suites and click **[!UICONTROL General]** &gt; **[!UICONTROL Bot Rules]**.
1. Click **[!UICONTROL Add Rule]** and define one or more match conditions.
1. 单击&#x200B;**[!UICONTROL 保存]**。此更改应在 30 分钟内生效。

>[!Nte]
>用户界面允许手动定义 500 个规则。在达到此限制后，必须通过“导入文件”和“导出机器人规则”选项对规则进行批量管理。
