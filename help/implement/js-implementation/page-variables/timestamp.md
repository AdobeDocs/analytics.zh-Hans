---
description: 页面变量可以直接填充报表，例如 pageName、列表属性、列表变量，等等。
keywords: Analytics Implementation
solution: Analytics
subtopic: Variables
title: 页面变量
topic: null
uuid: null
translation-type: tm+mt
source-git-commit: 45642bdbe18627caa20b1def6443f1e596a41f52

---


# timestamp

此变量让您可以自定义点击的时间戳，与用于其他平台的 AppMeasurement 库类似。

<!-- 

timestamp.xml

 -->

| 最大大小 | 调试程序参数 | 填充报表 | 默认值 |
|---|---|---|---|
| 4 字节 | 日期/时间 | 未直接报告。 | 由数据收集服务器设置。 |

**语法** {#section_1DF752B1202C4412A301AC7CC10874DF}

```js
s.timestamp="UNIX or ISO-8601 format timestamp"
```

*`timestamp`* 变量必须采用下节中介绍的格式。

>[!IMPORTANT]
>
>您的报表包必须由客户关怀启用时间戳，然后才能使用 *`timestamp`* 变量。启用时间戳支持后，所有从 JavaScript 发送至此报表包的点击都必须手动设置时间戳（使用 *`s.timestamp`*），否则不会记录任何点击。
>
>此外，如果您在报表包上启用时间戳支持来支持离线跟踪，那么所有从 JavaScript 发送至此报表包的点击也都必须手动设置时间戳（使用 *`s.timestamp`*）。您无法将已设置时间戳和未设置时间戳的点击发送至同一报表包中。
>
>您也可以使用[可选时间戳](/help/implement/js-implementation/timestamps-overview.md)设置，将加盖时间戳和未加盖时间戳的数据混合到同一个全局报表包中，将来自移动设备应用程序的加盖时间戳数据发送到全局报表包中，然后将应用程序升级为无需创建新报表包即可部署时间戳。

**时间戳格式** {#section_C12CBCECCD7047D38EF63A5800761CE9}

时间戳必须是 UNIX 格式（自 1970 年 1 月 1 日以来经过的秒数）或 ISO-8601 格式，并且可接受的 ISO-8601 格式具有以下限制：

* 必须提供日期和时间，中间由 "T" 隔开
* 日期必须是一个全精确度的日历日期（年、月和日）。。不支持周日期和序数日期。
* 日期可以是标准格式或扩展格式（`YYYY-MM-DD` 或 `YYYYMMDD`），但它们必须包含小时和分钟。秒数是可选的变量（`HH:MM`、`HH:MM:SS`、`HHMM` 或 `HHMMSS`）。可传入小数格式的分和秒，但小数部分将被忽略。

* 可指定标准格式或扩展格式（`±HH`、`±HH:MM`、`±HH`、`±HHMM` 或 Z）的可选时区。

仍然支持 UNIX 时间戳（自 1970 年 1 月 1 日以来经过的秒数）。

**示例** {#section_FA19C53D70DE4CF2AF259A5B968B84C3}

```js
s.timestamp=Math.round((new Date()).getTime()/1000);
```

```js
s.timestamp="2012-04-20T12:49:31-0700";
```

以下列表包含包含有效的 ISO-8601 格式的时间戳示例：

```
2013-01-01T12:30:05+06:00 
2013-01-01T12:30:05Z 
2013-01-01T12:30:05 
2013-01-01T12:30
```

**配置设置** {#section_5275D206F2CB4009B3681E8C4457124A}

必须首先启用报表包以接受由客户关怀部门提供的自定义时间戳，才能使用此变量。在启用了自定义时间戳之后，发送至报表包的所有点击都必须包含一个时间戳，否则它们将被放弃。

**缺陷、问题和提示** {#section_EFDE8F67D13C4775A461E0B00D30AFD7}

* 时间戳主要用于跟踪移动平台上的离线数据。自定义时间戳通常处于禁用状态，除非您同时收集同一报表包内的 Web 和离线应用程序数据。
* 当在移动SDK中启用离线数据（默认设置）时，或每当将报表包配置为接受加盖时间戳的数据时，数据都会加盖时间戳。 脱机收集的数据可能会在活动最初发生之日后数小时或数周内发送。 这些点击可能会在 Analytics 平台内排队等候，并且比没有设置时间戳的点击要多等数分钟或数小时：

   * 对于在非常接近当前时间发送的时间戳数据，可能的延迟是10-15分钟。
   * 对于从昨天开始发送的带有时间戳的数据，可能的延迟大约是2小时。
   * 对于发送的时间戳比昨天更旧的数据，每天都会增加约2小时的延迟，最多48小时。

