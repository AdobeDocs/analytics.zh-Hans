---
title: 分类导入器故障诊断
description: 使用分类导入器时出现的常见上载问题。
feature: Classifications
exl-id: de3e9eca-9264-4711-b73a-4a1a3dd16715
source-git-commit: 35413ac43eed5ab7218794f26e4753acf08f18ee
workflow-type: ht
source-wordcount: '861'
ht-degree: 100%

---

# 分类导入器故障诊断

将分类数据上载到 Adobe 时最常见的问题。

## 文件格式或扩展名不正确

分类需要使用特定的文件类型和格式才能上载成功。如果保存不当，分类文件会引发问题，从而不会处理任何行。返回的错误通常是&#x200B;*“需要第一列作为键”*，但可能会出现任意数量的错误。请务必检查以下各项：

* **上传电子表格 (.xlsx) 而不是 .tab 或 .txt 文件**：上传格式不正确的分类文件时，您会收到错误消息&#x200B;*“第一列必须为键”*。分类导入器不知道如何处理 .xls 或 .xlsx 文件。在 Excel 的“另存为”对话框中，设置正确的“另存为”类型：
   * 在 Windows 上，使用文件格式 `Text (Tab delimited) (*.txt)`
   * 在 Mac 上，使用文件格式 `Windows Formatted Text`。
* **将文件另存为工作簿后更改文件扩展名**：尝试直接重命名文件扩展名会生成无效的工作簿。仅使用 Excel 的“另存为”功能或在文本编辑器（例如 Notepad++）中编辑分类。
* **使用大写的扩展名**：大写的扩展名（例如 `fileupload.TXT`）无效。请将文件重命名为小写的扩展名 (`fileupload.txt`)。
* **字符编码不匹配**：确保下载模板时，保存的分类上载的编码与原始编码匹配。如果您上载的 UTF-16 文件最初是以 UTF-8 编码，则上载时会产生意外结果。Adobe 建议使用不带字节顺序标记的 UTF-8 来上载文件。

## 文件内容无效

如果您的上载文件格式正确，则上载程序会尝试尽可能多地导入有效行。分类数据的一些常见问题：

* **行已分类**：尝试上载已使用同一值分类的行时，导入器会返回无效的行。这是正常结果，因为分类数据不会通过同一分类对键值进行重新分类。它是通知，而不是错误。如果您并未更改导出文件中的全部行，则无需担忧。Adobe 建议仅上载已更改的行。
* **标头与上载的变量不匹配**：如果您下载跟踪代码维度的分类模板，然后尝试将该模板上载到 eVar 分类，则上载会失败。对于特定变量，所使用的导出文件只能是最初从中将其导出的文件。
* **键值或分类值包含值 0**：分类无法区分值 0 和空白单元格，因此无法对该值进行分类。请参阅[分类常见问题解答](../faq.md)。
* **分类文件包含逗号或特殊字符**：请参阅[分类常见问题解答](../faq.md)。
* **上载的文件中存在额外的制表符**：在编辑分类文件时，有时可能会意外插入额外的制表符。每行的制表符数量必须相同，才能正确处理。要检查文件中是否存在额外的制表符，请在纯文本编辑器中突出显示所有文本，并确保没有行在结尾处有额外的空间。
* **文件中存在重复的键值**：每个键值在每列只能有一个分类。如果多次尝试对同一值进行分类，导入器会触发错误。
* **子分类存在但配置不正确**：如果存在子分类，请检查以下各项：
   * 所有子分类值都有相应的父分类值
   * 任一子分类所引用的父分类值都是唯一的
* **列不匹配**：如果任意给定行中的列数无效，您会收到错误消息&#x200B;*“行上的键有太多列&quot;*。例如，您的分类上传中有 3 列，而变量只有一个分类。验证您的上传文件，确保列数没有超过为该变量配置的分类数。

## FTP 导入故障诊断

以下是 FTP 分类无法处理所上载文件的常见原因：

* **缺少 .fin 文件**：在桌面上创建空文本文档，并将文件扩展名从 .txt 重命名为 .fin。此 .fin 文件的名称必须与相关分类文件的名称匹配。例如，如果 FTP 文件名为 `fileupload.tab`，请将 .fin 文件命名为 `fileupload.fin`。上载 .fin 文件后，两个文件都会消失。
* **在分类文件之前上载 .fin 文件**：有时，在分类文件完成上载到 FTP 站点之前会创建 .fin 文件。如果文件上载次序颠倒，处理可能会失败。请删除这两个文件，先添加分类文件，然后在分类文件完全上载后再添加 .fin 文件。
* **文件过大**：Adobe 建议，保持尽可能小的分类文件大小，可确保快速完成处理。
* **现有文件已在处理**：如果为同一变量和报表包上载了多个文件，则旧文件将停止处理，以支持处理新文件。如果使用多个文件上载分类，请等待确认现有文件已完成处理，然后再上载新文件。
* **上载的文件未放在根目录中**：上载到 Adobe FTP 站点的文件必须放在根目录中。如果分类导入文件位于子文件夹中，则不会提取或处理这些文件。

如果您在上载分类文件时仍然遇到问题，请联系 Adobe 客户关怀团队。
