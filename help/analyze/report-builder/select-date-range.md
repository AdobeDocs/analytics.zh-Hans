---
title: 如何在Adobe Analytics的Report Builder中选择数据范围
description: 介绍如何在Report Builder for Adobe Analytics中使用日历、滚动日期和自定义表达式
role: User
feature: Report Builder
type: Documentation
solution: Analytics
exl-id: 610ce2c8-8ff6-4434-912f-3015cc56a51e
source-git-commit: f02b660b551f5291443b8f7c5c51179a06b22eb9
workflow-type: tm+mt
source-wordcount: '1089'
ht-degree: 85%

---

# 选择日期范围

要更改现有数据块的日期范围，请选择“编辑数据块”或者使用“快速编辑”面板。

使用以下选项更改数据块的日期范围。

**日历**

通过日历，您可以使用以下选项创建静态或滚动日期。

- 日期范围字段
- 日历
- 预设下拉菜单
- 滚动日期模式
- 自定义表达式 


**从单元格**

**[!UICONTROL 从单元格]**&#x200B;选项允许您引用工作表单元格中输入的日期。

您可以通过选项在任意选择的日期范围上排除当天。

![已选定日历且已选定“排除当天”的“Report Builder快速编辑”窗格。](./assets/image17.png)

## 使用日历

使用&#x200B;**日历**&#x200B;时，日期范围字段显示数据块请求的当前日期范围。您可以直接在日期范围字段中输入日期，或者使用日期范围选择选项。

### 日期范围字段

在日期范围字段中直接输入日期

1. 单击日历图标旁的日期范围字段。

1. 输入日期范围的开始和结束日期。

### 日历

使用日历选择日期

1. 单击日历图标以显示每月日历。

1. 单击一个开始日期。

1. 单击一个结束日期。

要反向设置日期范围，请先单击结束日期，然后再单击开始日期。

![Report Builder日期范围窗格，显示选定的日历和结束日期及开始日期。](./assets/image18.png)

### 预设下拉菜单

预设下拉菜单包括一组标准的预设日期范围和您保存的报表包或与您共享的报表包的日期范围组件。

### 滚动日期

通过滚动日期选项，您可以使用滚动日期选择日期范围。

1. 选择&#x200B;**使用滚动日期**。

1. 为您的开始和/或结束日期选择滚动表达式。

   ![Report Builder日期范围窗格，其中显示使用选定的滚动日期和滚动表达式。](./assets/image19.png)

   **开始** - 允许您选择某天、周、月、季度或年的开始。

   **结束** - 允许您选择某天、周、月、季度或年的结束。

   **固定日期** - 允许您固定开始日期或结束日期，而滚动其余的日期。

1. 选择天、周、月、季度或年作为滚动时段。

   ![Report Builder日期范围窗格，显示所选的当前日期。](./assets/image20.png)

1. 从滚动日期中加上或减去日、周、月、季度或年。

   ![Report Builder日期范围窗格，显示当前日期加上14天选定日期。](./assets/image21.png)

1. 单击“下一步”定义日期范围。

   使用日期预览以确认生成的日期范围是所需的范围。

### 自定义表达式

通过自定义选项表达式，您可以通过构建自定义表达式更改日期范围，或者输入数学公式。

1. 选择&#x200B;**使用滚动日期**。

1. 选择&#x200B;**使用自定义表达式**。

   选择&#x200B;**使用自定义表达式**&#x200B;选项时，标准滚动日期范围控件将禁用。

   ![选择使用自定义表达式，显示tm-1m到td-1d。](./assets/custom_expression.png)

1. 输入自定义表达式。

   有关自定义表达式的示例列表，请参阅&#x200B;**日期表达式**。

1. 使用日期预览以验证生成的日期范围是所需的范围。

#### 创建自定义表达式

1. 输入&#x200B;**日期引用**。

1. 添加&#x200B;**日期运算符**&#x200B;以将日期移动到过去或未来。

您可以输入包括多个运算符的自定义日期表达式，例如 ```tm-11m-1d```。

#### 日期引用

下表列出了日期引用示例。

| 日期引用 | 类型 | 描述 |
|----------------|--------------|----------------------------|
| 1/1/10 | 静态日期 | 以 ISO 日期格式输入 |
| td | 滚动日期 | 当天的开始 |
| tw | 滚动日期 | 本周的开始 |
| tm | 滚动日期 | 本月的开始 |
| tq | 滚动日期 | 本季度的开始 |
| ty | 滚动日期 | 本年度的开始 |

#### 日期运算符

下表列出了日期运算符示例。

| 日期运算符 | 单位 | 描述 |
|----------------|---------|--------------------|
| +6d | 日 | 添加 6 天到日期引用 |
| +1w | 周 | 添加一整周到日期引用 |
| -2m | 月 | 从日期引用减去 2 整周 |
| -4q | 季度 | 从日期引用减去 4 个季度 |
| -1y | 年 | 从日期引用减去 1 年 |

#### 日期表达式

下表列出了日期表达式示例。

| 日期表达式 | 含义 |
|-----------------|--------------------------------------|
| td-1w | 上周的第一天 |
| tm-1d | 上个月的第一天 |
| td-52w | 52 周以前的同一天 |
| tm-11m-1d | 去年同一个月的上一天 |
| “2020-09-06” | 2020 年 9 月 9 日 |

## 来自单元格中的日期范围

日期范围可以在工作表单元格中指定。使用&#x200B;**来自单元格中的日期范围**&#x200B;选项从所选单元格选择数据块的开始日期和结束日期。选择&#x200B;**来自单元格**&#x200B;选项时，面板会显示&#x200B;**自**&#x200B;和&#x200B;**至**&#x200B;字段，您可以在其中输入单元格位置。

![从单元格工作表1！H4选择到工作表1！I4](./assets/image23.png)

## 排除当天

选择&#x200B;**排除当天**&#x200B;选项可以从选择的日期范围中排除当天。选择包括当天时，可能会为当天提取不完整的数据。

在选中时，**排除当天**&#x200B;选项从所有日期范围模式中排除当天，包括日历、滚动日期或自定义表达式。

## 有效日期范围

以下列表描述了有效的日期范围格式。

- 开始日期和结束日期必须采用以下格式：YYYY-MM-DD

- 开始日期必须早于或等于结束日期。两个日期均可以设置在未来。

- 使用滚动日期时，开始日期必须是当天或过去。如果选中了&#x200B;**排除当天**，则必须为过去。

- 您可以为未来创建静态日期范围设置。例如，您可能需要为下周的市场营销活动启动设置未来的日期。此选项提前为营销活动创建工作簿监控。

## 更改日期范围

您可以在“命令”面板中选择“编辑数据块”，或者在“快速编辑”面板中选择日期范围链接，来编辑现有数据块的日期范围。

**编辑数据块** - 允许您编辑单个数据块的多个数据块参数，包括日期范围。

**快速编辑：日期范围** - 允许您编辑一个或多个数据块的日期范围。

从“快速编辑”面板编辑日期范围

1. 在工作表的一个或多个数据块中选择单元格。

1. 在“快速编辑”面板中单击&#x200B;**日期范围**&#x200B;链接。

1. 使用任意日期选择选项来选择日期范围。

1. 单击&#x200B;**应用**。


Report Builder 将新日期范围应用到选区中的所有数据块。
